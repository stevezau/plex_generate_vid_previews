# Plex Video Preview Generator - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Plex server URL (include http:// or https://)
PLEX_URL=http://localhost:32400

# Plex authentication token
# Get your token from: https://support.plex.tv/articles/204059436/
PLEX_TOKEN=your-plex-token-here

# Path to Plex Media Server configuration folder
# Linux:   /var/lib/plexmediaserver/Library/Application Support/Plex Media Server
# Docker:  /config/plex/Library/Application Support/Plex Media Server
# Windows: C:\Users\[Username]\AppData\Local\Plex Media Server (use forward slashes or escape backslashes)
# macOS:   ~/Library/Application Support/Plex Media Server
PLEX_CONFIG_FOLDER=/path/to/plex/Library/Application Support/Plex Media Server

# Windows example (use forward slashes for simplicity in env files):
# PLEX_CONFIG_FOLDER=C:/Users/YourName/AppData/Local/Plex Media Server

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# Plex API timeout in seconds (default: 60)
PLEX_TIMEOUT=60

# Comma-separated list of library names to process (default: all libraries)
# Example: "Movies, TV Shows, Anime"
# PLEX_LIBRARIES=Movies, TV Shows

# ============================================================================
# PATH MAPPINGS (for Docker/Remote generation)
# ============================================================================

# Path mapping: What Plex sees vs what this script sees
# Example:
#   Plex sees: /server/media/movies/avatar.mkv
#   Container sees: /media/movies/avatar.mkv
#   Solution: PLEX_VIDEOS_PATH_MAPPING=/server/media
#             PLEX_LOCAL_VIDEOS_PATH_MAPPING=/media

# Path that Plex uses for video files
# PLEX_VIDEOS_PATH_MAPPING=/server/media

# Path that this script can access
# PLEX_LOCAL_VIDEOS_PATH_MAPPING=/media

# ============================================================================
# PROCESSING CONFIGURATION
# ============================================================================

# Interval between preview images in seconds (1-60, default: 5)
PLEX_BIF_FRAME_INTERVAL=5

# Preview image quality (1-10, default: 4)
# Lower = higher quality but larger files
# 2 = highest quality, 10 = lowest quality
THUMBNAIL_QUALITY=4

# Regenerate existing thumbnails (true/false, default: false)
REGENERATE_THUMBNAILS=false

# ============================================================================
# THREADING CONFIGURATION
# ============================================================================

# Number of GPU worker threads (0-32, default: 1)
# Set to 0 to disable GPU processing
# Windows: Supports D3D11VA (works with NVIDIA, AMD, Intel GPUs)
# Linux: Supports CUDA (NVIDIA), VAAPI (AMD/Intel), VideoToolbox (macOS)
GPU_THREADS=1

# Number of CPU worker threads (0-32, default: 1)
CPU_THREADS=1

# GPU selection: "all" or comma-separated indices (default: all)
# Example: "0" for first GPU only
# Example: "0,1" for first two GPUs
# Use --list-gpus to see available GPUs
GPU_SELECTION=all

# ============================================================================
# SYSTEM PATHS
# ============================================================================

# Temporary folder for processing
# Default: System temp directory (TMPDIR, TEMP, or TMP environment variable)
#   Linux/macOS: typically /tmp
#   Windows: typically C:\Users\[Username]\AppData\Local\Temp
# TMP_FOLDER=/custom/temp/folder

# ============================================================================
# LOGGING
# ============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# ============================================================================
# NOTES
# ============================================================================
# - CLI arguments take precedence over environment variables
# - All paths should be absolute, not relative
# - For Windows paths, use forward slashes or escaped backslashes
# - Docker users: paths should match your volume mounts

